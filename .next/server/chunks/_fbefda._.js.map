{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/intake/normalize.ts"],"sourcesContent":["export function normalizeInput(text: string): string {\r\n  return text\r\n    .replace(/\\r\\n/g, \"\\n\")\r\n    .replace(/\\t/g, \" \")\r\n    .replace(/\\s{2,}/g, \" \")\r\n    .trim();\r\n}\r\n"],"names":[],"mappings":";;;AAAO,SAAS,eAAe,IAAY;IACzC,OAAO,KACJ,OAAO,CAAC,SAAS,MACjB,OAAO,CAAC,OAAO,KACf,OAAO,CAAC,WAAW,KACnB,IAAI;AACT"}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/intake/tone-calibration.ts"],"sourcesContent":["export type Tone =\r\n  | \"neutral\"\r\n  | \"confident\"\r\n  | \"assertive\"\r\n  | \"speculative\";\r\n\r\nexport function calibrateTone(text: string): Tone {\r\n  const confidenceMarkers = [\"clearly\", \"definitely\", \"proven\"];\r\n  const speculativeMarkers = [\"might\", \"could\", \"possibly\"];\r\n\r\n  if (confidenceMarkers.some(w => text.includes(w))) return \"assertive\";\r\n  if (speculativeMarkers.some(w => text.includes(w))) return \"speculative\";\r\n\r\n  return \"neutral\";\r\n}\r\n"],"names":[],"mappings":";;;AAMO,SAAS,cAAc,IAAY;IACxC,MAAM,oBAAoB;QAAC;QAAW;QAAc;KAAS;IAC7D,MAAM,qBAAqB;QAAC;QAAS;QAAS;KAAW;IAEzD,IAAI,kBAAkB,IAAI,CAAC,CAAA,IAAK,KAAK,QAAQ,CAAC,KAAK,OAAO;IAC1D,IAAI,mBAAmB,IAAI,CAAC,CAAA,IAAK,KAAK,QAAQ,CAAC,KAAK,OAAO;IAE3D,OAAO;AACT"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/intake/domain-classifier.ts"],"sourcesContent":["export type Domain =\r\n  | \"product\"\r\n  | \"finance\"\r\n  | \"legal\"\r\n  | \"research\"\r\n  | \"general\";\r\n\r\nexport function classifyDomain(text: string): Domain {\r\n  const t = text.toLowerCase();\r\n\r\n  if (t.includes(\"regulation\") || t.includes(\"law\")) return \"legal\";\r\n  if (t.includes(\"revenue\") || t.includes(\"market\")) return \"finance\";\r\n  if (t.includes(\"experiment\") || t.includes(\"study\")) return \"research\";\r\n  if (t.includes(\"user\") || t.includes(\"feature\")) return \"product\";\r\n\r\n  return \"general\";\r\n}\r\n"],"names":[],"mappings":";;;AAOO,SAAS,eAAe,IAAY;IACzC,MAAM,IAAI,KAAK,WAAW;IAE1B,IAAI,EAAE,QAAQ,CAAC,iBAAiB,EAAE,QAAQ,CAAC,QAAQ,OAAO;IAC1D,IAAI,EAAE,QAAQ,CAAC,cAAc,EAAE,QAAQ,CAAC,WAAW,OAAO;IAC1D,IAAI,EAAE,QAAQ,CAAC,iBAAiB,EAAE,QAAQ,CAAC,UAAU,OAAO;IAC5D,IAAI,EAAE,QAAQ,CAAC,WAAW,EAAE,QAAQ,CAAC,YAAY,OAAO;IAExD,OAAO;AACT"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/claims/claim-decomposer.ts"],"sourcesContent":["import { ClaimType } from \"./claim-types\";\r\n\r\nexport interface Claim {\r\n  id: string;\r\n  text: string;\r\n  type: ClaimType;\r\n}\r\n\r\nlet claimCounter = 0;\r\n\r\nexport function decomposeClaims(text: string): Claim[] {\r\n  const sentences = text.split(\".\").map(s => s.trim()).filter(Boolean);\r\n\r\n  return sentences.map(sentence => ({\r\n    id: `C${++claimCounter}`,\r\n    text: sentence,\r\n    type: inferClaimType(sentence),\r\n  }));\r\n}\r\n\r\nfunction inferClaimType(sentence: string): ClaimType {\r\n  if (/\\d/.test(sentence)) return \"numerical\";\r\n  if (sentence.includes(\"because\")) return \"causal\";\r\n  if (sentence.includes(\"should\")) return \"normative\";\r\n  if (sentence.includes(\"will\")) return \"predictive\";\r\n  return \"factual\";\r\n}\r\n"],"names":[],"mappings":";;;AAQA,IAAI,eAAe;AAEZ,SAAS,gBAAgB,IAAY;IAC1C,MAAM,YAAY,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,IAAI,MAAM,CAAC;IAE5D,OAAO,UAAU,GAAG,CAAC,CAAA,WAAY,CAAC;YAChC,IAAI,CAAC,CAAC,EAAE,EAAE,aAAa,CAAC;YACxB,MAAM;YACN,MAAM,eAAe;QACvB,CAAC;AACH;AAEA,SAAS,eAAe,QAAgB;IACtC,IAAI,KAAK,IAAI,CAAC,WAAW,OAAO;IAChC,IAAI,SAAS,QAAQ,CAAC,YAAY,OAAO;IACzC,IAAI,SAAS,QAAQ,CAAC,WAAW,OAAO;IACxC,IAAI,SAAS,QAAQ,CAAC,SAAS,OAAO;IACtC,OAAO;AACT"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/claims/claim-linker.ts"],"sourcesContent":["import { Claim } from \"./claim-decomposer\";\r\n\r\nexport interface ClaimLink {\r\n  from: string;\r\n  to: string;\r\n}\r\n\r\nexport function linkClaims(claims: Claim[]): ClaimLink[] {\r\n  const links: ClaimLink[] = [];\r\n\r\n  for (let i = 1; i < claims.length; i++) {\r\n    links.push({\r\n      from: claims[i - 1].id,\r\n      to: claims[i].id,\r\n    });\r\n  }\r\n\r\n  return links;\r\n}\r\n"],"names":[],"mappings":";;;AAOO,SAAS,WAAW,MAAe;IACxC,MAAM,QAAqB,EAAE;IAE7B,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;QACtC,MAAM,IAAI,CAAC;YACT,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE;YACtB,IAAI,MAAM,CAAC,EAAE,CAAC,EAAE;QAClB;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/reasoning/graph-builder.ts"],"sourcesContent":["import { Claim } from \"../claims/claim-decomposer\";\r\nimport { ClaimLink } from \"../claims/claim-linker\";\r\n\r\nexport interface ReasoningGraph {\r\n  nodes: Claim[];\r\n  edges: ClaimLink[];\r\n}\r\n\r\nexport function buildGraph(\r\n  claims: Claim[],\r\n  links: ClaimLink[]\r\n): ReasoningGraph {\r\n  return {\r\n    nodes: claims,\r\n    edges: links,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AAQO,SAAS,WACd,MAAe,EACf,KAAkB;IAElB,OAAO;QACL,OAAO;QACP,OAAO;IACT;AACF"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/reasoning/contradiction-checker.ts"],"sourcesContent":["import { Claim } from \"../claims/claim-decomposer\";\r\n\r\nexport function detectContradictions(claims: Claim[]): string[] {\r\n  const contradictions: string[] = [];\r\n\r\n  const texts = claims.map(c => c.text.toLowerCase());\r\n\r\n  if (\r\n    texts.some(t => t.includes(\"will happen\")) &&\r\n    texts.some(t => t.includes(\"will not happen\"))\r\n  ) {\r\n    contradictions.push(\"Direct future-state contradiction detected\");\r\n  }\r\n\r\n  return contradictions;\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,qBAAqB,MAAe;IAClD,MAAM,iBAA2B,EAAE;IAEnC,MAAM,QAAQ,OAAO,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI,CAAC,WAAW;IAEhD,IACE,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,mBAC3B,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,CAAC,qBAC3B;QACA,eAAe,IAAI,CAAC;IACtB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/reasoning/inference-gap-detector.ts"],"sourcesContent":["import { ReasoningGraph } from \"./graph-builder\";\r\n\r\nexport function detectInferenceGaps(graph: ReasoningGraph): string[] {\r\n  const gaps: string[] = [];\r\n\r\n  if (graph.nodes.length > 1 && graph.edges.length === 0) {\r\n    gaps.push(\"Claims are not logically connected\");\r\n  }\r\n\r\n  return gaps;\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,oBAAoB,KAAqB;IACvD,MAAM,OAAiB,EAAE;IAEzB,IAAI,MAAM,KAAK,CAAC,MAAM,GAAG,KAAK,MAAM,KAAK,CAAC,MAAM,KAAK,GAAG;QACtD,KAAK,IAAI,CAAC;IACZ;IAEA,OAAO;AACT"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/engines/grounding/evidence-mapper.ts"],"sourcesContent":["import { Claim } from \"../../claims/claim-decomposer\";\r\n\r\nexport interface EvidenceMatch {\r\n  claimId: string;\r\n  supported: boolean;\r\n}\r\n\r\nexport function mapEvidence(\r\n  claims: Claim[],\r\n  sources: string[] = []\r\n): EvidenceMatch[] {\r\n  return claims.map(claim => ({\r\n    claimId: claim.id,\r\n    supported: sources.some(src =>\r\n      src.toLowerCase().includes(claim.text.toLowerCase())\r\n    ),\r\n  }));\r\n}\r\n"],"names":[],"mappings":";;;AAOO,SAAS,YACd,MAAe,EACf,UAAoB,EAAE;IAEtB,OAAO,OAAO,GAAG,CAAC,CAAA,QAAS,CAAC;YAC1B,SAAS,MAAM,EAAE;YACjB,WAAW,QAAQ,IAAI,CAAC,CAAA,MACtB,IAAI,WAAW,GAAG,QAAQ,CAAC,MAAM,IAAI,CAAC,WAAW;QAErD,CAAC;AACH"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/engines/grounding/grounding-engine.ts"],"sourcesContent":["import { EvidenceMatch } from \"./evidence-mapper\";\r\n\r\nexport function computeGroundingScore(\r\n  matches: EvidenceMatch[]\r\n): number {\r\n  const supported = matches.filter(m => m.supported).length;\r\n  return Math.round((supported / matches.length) * 100);\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,sBACd,OAAwB;IAExB,MAAM,YAAY,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,EAAE,MAAM;IACzD,OAAO,KAAK,KAAK,CAAC,AAAC,YAAY,QAAQ,MAAM,GAAI;AACnD"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/engines/consistency/consistency-engine.ts"],"sourcesContent":["export function computeConsistencyScore(\r\n  contradictions: string[],\r\n  inferenceGaps: string[]\r\n): number {\r\n  const penalty =\r\n    contradictions.length * 30 + inferenceGaps.length * 15;\r\n\r\n  return Math.max(0, 100 - penalty);\r\n}\r\n"],"names":[],"mappings":";;;AAAO,SAAS,wBACd,cAAwB,EACxB,aAAuB;IAEvB,MAAM,UACJ,eAAe,MAAM,GAAG,KAAK,cAAc,MAAM,GAAG;IAEtD,OAAO,KAAK,GAAG,CAAC,GAAG,MAAM;AAC3B"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/engines/risk/hallucination-detector.ts"],"sourcesContent":["import { Claim } from \"../../claims/claim-decomposer\";\r\n\r\nexport interface HallucinationSignal {\r\n  claimId: string;\r\n  reason: string;\r\n  severity: \"low\" | \"medium\" | \"high\";\r\n}\r\n\r\nexport function detectHallucinations(\r\n  claims: Claim[],\r\n  evidenceMatches: { claimId: string; supported: boolean }[]\r\n): HallucinationSignal[] {\r\n  return claims\r\n    .filter(\r\n      c =>\r\n        !evidenceMatches.find(m => m.claimId === c.id)?.supported\r\n    )\r\n    .map(c => ({\r\n      claimId: c.id,\r\n      reason: \"Claim lacks external grounding\",\r\n      severity: c.type === \"numerical\" ? \"high\" : \"medium\",\r\n    }));\r\n}\r\n"],"names":[],"mappings":";;;AAQO,SAAS,qBACd,MAAe,EACf,eAA0D;IAE1D,OAAO,OACJ,MAAM,CACL,CAAA,IACE,CAAC,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,EAAE,EAAE,GAAG,WAEnD,GAAG,CAAC,CAAA,IAAK,CAAC;YACT,SAAS,EAAE,EAAE;YACb,QAAQ;YACR,UAAU,EAAE,IAAI,KAAK,cAAc,SAAS;QAC9C,CAAC;AACL"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/engines/risk/overconfidence-detector.ts"],"sourcesContent":["import { Claim } from \"../../claims/claim-decomposer\";\r\nimport { Tone } from \"../../intake/tone-calibration\";\r\n\r\nexport function detectOverconfidence(\r\n  claims: Claim[],\r\n  tone: Tone\r\n): string[] {\r\n  if (tone !== \"assertive\") return [];\r\n\r\n  return claims\r\n    .filter(c => c.type === \"predictive\" || c.type === \"numerical\")\r\n    .map(c => `Overconfident phrasing in ${c.id}`);\r\n}\r\n"],"names":[],"mappings":";;;AAGO,SAAS,qBACd,MAAe,EACf,IAAU;IAEV,IAAI,SAAS,aAAa,OAAO,EAAE;IAEnC,OAAO,OACJ,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,gBAAgB,EAAE,IAAI,KAAK,aAClD,GAAG,CAAC,CAAA,IAAK,CAAC,0BAA0B,EAAE,EAAE,EAAE,CAAC,CAAC;AACjD"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/engines/assumptions/assumption-extractor.ts"],"sourcesContent":["import { Claim } from \"../../claims/claim-decomposer\";\r\n\r\nexport function extractAssumptions(claims: Claim[]): string[] {\r\n  const assumptions: string[] = [];\r\n\r\n  claims.forEach(c => {\r\n    if (c.text.includes(\"assumes\")) {\r\n      assumptions.push(c.text);\r\n    }\r\n  });\r\n\r\n  return assumptions;\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,mBAAmB,MAAe;IAChD,MAAM,cAAwB,EAAE;IAEhC,OAAO,OAAO,CAAC,CAAA;QACb,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,YAAY;YAC9B,YAAY,IAAI,CAAC,EAAE,IAAI;QACzB;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/scoring/trust-score.ts"],"sourcesContent":["export interface ETSComponents {\r\n  grounding: number;\r\n  consistency: number;\r\n  assumptions: number;\r\n  safety: number;\r\n  security: number;\r\n  calibration: number;\r\n}\r\n\r\nexport function computeETS(\r\n  components: ETSComponents,\r\n  weights: Record<keyof ETSComponents, number>\r\n): number {\r\n  let total = 0;\r\n\r\n  for (const key in components) {\r\n    total += components[key as keyof ETSComponents] *\r\n      weights[key as keyof ETSComponents];\r\n  }\r\n\r\n  return Math.round(total);\r\n}\r\n"],"names":[],"mappings":";;;AASO,SAAS,WACd,UAAyB,EACzB,OAA4C;IAE5C,IAAI,QAAQ;IAEZ,IAAK,MAAM,OAAO,WAAY;QAC5B,SAAS,UAAU,CAAC,IAA2B,GAC7C,OAAO,CAAC,IAA2B;IACvC;IAEA,OAAO,KAAK,KAAK,CAAC;AACpB"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/scoring/weighting-profiles.ts"],"sourcesContent":["export const ETS_WEIGHTS = {\r\n  founder: {\r\n    grounding: 0.25,\r\n    consistency: 0.25,\r\n    assumptions: 0.1,\r\n    safety: 0.15,\r\n    security: 0.1,\r\n    calibration: 0.15,\r\n  },\r\n  legal: {\r\n    grounding: 0.3,\r\n    consistency: 0.3,\r\n    assumptions: 0.15,\r\n    safety: 0.15,\r\n    security: 0.05,\r\n    calibration: 0.05,\r\n  },\r\n} as const;\r\n\r\n/* ðŸ‘‡ THIS IS THE KEY LINE */\r\nexport type WeightProfile = keyof typeof ETS_WEIGHTS;\r\n"],"names":[],"mappings":";;;AAAO,MAAM,cAAc;IACzB,SAAS;QACP,WAAW;QACX,aAAa;QACb,aAAa;QACb,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA,OAAO;QACL,WAAW;QACX,aAAa;QACb,aAAa;QACb,QAAQ;QACR,UAAU;QACV,aAAa;IACf;AACF"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/core/pipelines/verify-pipeline.ts"],"sourcesContent":["import { normalizeInput } from \"../intake/normalize\";\r\nimport { calibrateTone } from \"../intake/tone-calibration\";\r\nimport { classifyDomain, Domain } from \"../intake/domain-classifier\";\r\n\r\nimport { decomposeClaims, Claim } from \"../claims/claim-decomposer\";\r\nimport { linkClaims } from \"../claims/claim-linker\";\r\n\r\nimport { buildGraph } from \"../reasoning/graph-builder\";\r\nimport { detectContradictions } from \"../reasoning/contradiction-checker\";\r\nimport { detectInferenceGaps } from \"../reasoning/inference-gap-detector\";\r\n\r\nimport { mapEvidence } from \"../engines/grounding/evidence-mapper\";\r\nimport { computeGroundingScore } from \"../engines/grounding/grounding-engine\";\r\nimport { computeConsistencyScore } from \"../engines/consistency/consistency-engine\";\r\n\r\nimport { detectHallucinations } from \"../engines/risk/hallucination-detector\";\r\nimport { detectOverconfidence } from \"../engines/risk/overconfidence-detector\";\r\n\r\nimport { extractAssumptions } from \"../engines/assumptions/assumption-extractor\";\r\n\r\nimport {\r\n  computeETS,\r\n  ETSComponents,\r\n} from \"../scoring/trust-score\";\r\nimport {\r\n  ETS_WEIGHTS,\r\n  WeightProfile,\r\n} from \"../scoring/weighting-profiles\";\r\n\r\n/* -------------------------------\r\n   Types\r\n-------------------------------- */\r\n\r\nexport interface VerifyResult {\r\n  score: number;\r\n  claims: Claim[];\r\n  risks: string[];\r\n  explainability: {\r\n    contradictions: string[];\r\n    inferenceGaps: string[];\r\n    overconfidence: string[];\r\n    assumptions: string[];\r\n  };\r\n}\r\n\r\n/* -------------------------------\r\n   Main Pipeline (EXPORTED)\r\n-------------------------------- */\r\n\r\nexport function verifyPipeline(\r\n  rawText: string,\r\n  profile: WeightProfile,\r\n  sources: string[] = []\r\n): VerifyResult {\r\n  /* 1. Normalize */\r\n  const text = normalizeInput(rawText);\r\n\r\n  /* 2. Intake signals */\r\n  const tone = calibrateTone(text);\r\n  const domain: Domain = classifyDomain(text);\r\n\r\n  /* 3. Claim decomposition */\r\n  const claims: Claim[] = decomposeClaims(text);\r\n\r\n  /* 4. Reasoning structure */\r\n  const links = linkClaims(claims);\r\n  const graph = buildGraph(claims, links);\r\n\r\n  /* 5. Reasoning defects */\r\n  const contradictions = detectContradictions(claims);\r\n  const inferenceGaps = detectInferenceGaps(graph);\r\n\r\n  /* 6. Grounding */\r\n  const evidenceMatches = mapEvidence(claims, sources);\r\n  const groundingScore = computeGroundingScore(evidenceMatches);\r\n\r\n  /* 7. Consistency */\r\n  const consistencyScore = computeConsistencyScore(\r\n    contradictions,\r\n    inferenceGaps\r\n  );\r\n\r\n  /* 8. Risks */\r\n  const hallucinations = detectHallucinations(\r\n    claims,\r\n    evidenceMatches\r\n  );\r\n  const overconfidence = detectOverconfidence(\r\n    claims,\r\n    tone\r\n  );\r\n  const assumptions = extractAssumptions(claims);\r\n\r\n  /* 9. ETS components (whitepaper-aligned) */\r\n  const components: ETSComponents = {\r\n    grounding: groundingScore,\r\n    consistency: consistencyScore,\r\n    assumptions: Math.max(\r\n      0,\r\n      100 - assumptions.length * 10\r\n    ),\r\n    safety: Math.max(\r\n      0,\r\n      100 - hallucinations.length * 20\r\n    ),\r\n    security: 100, // placeholder for security engine aggregation\r\n    calibration: Math.max(\r\n      0,\r\n      100 - overconfidence.length * 10\r\n    ),\r\n  };\r\n\r\n  /* 10. Final Trust Score */\r\n  const score = computeETS(\r\n    components,\r\n    ETS_WEIGHTS[profile]\r\n  );\r\n\r\n  /* 11. Return structured, explainable output */\r\n  return {\r\n    score,\r\n    claims,\r\n    risks: hallucinations.map(h => h.reason),\r\n    explainability: {\r\n      contradictions,\r\n      inferenceGaps,\r\n      overconfidence,\r\n      assumptions,\r\n    },\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDO,SAAS,eACd,OAAe,EACf,OAAsB,EACtB,UAAoB,EAAE;IAEtB,gBAAgB,GAChB,MAAM,OAAO,8IAAe;IAE5B,qBAAqB,GACrB,MAAM,OAAO,uJAAc;IAC3B,MAAM,SAAiB,yJAAe;IAEtC,0BAA0B,GAC1B,MAAM,SAAkB,yJAAgB;IAExC,0BAA0B,GAC1B,MAAM,QAAQ,gJAAW;IACzB,MAAM,QAAQ,oJAAW,QAAQ;IAEjC,wBAAwB,GACxB,MAAM,iBAAiB,sKAAqB;IAC5C,MAAM,gBAAgB,yKAAoB;IAE1C,gBAAgB,GAChB,MAAM,kBAAkB,kKAAY,QAAQ;IAC5C,MAAM,iBAAiB,6KAAsB;IAE7C,kBAAkB,GAClB,MAAM,mBAAmB,mLACvB,gBACA;IAGF,YAAY,GACZ,MAAM,iBAAiB,6KACrB,QACA;IAEF,MAAM,iBAAiB,8KACrB,QACA;IAEF,MAAM,cAAc,gLAAmB;IAEvC,0CAA0C,GAC1C,MAAM,aAA4B;QAChC,WAAW;QACX,aAAa;QACb,aAAa,KAAK,GAAG,CACnB,GACA,MAAM,YAAY,MAAM,GAAG;QAE7B,QAAQ,KAAK,GAAG,CACd,GACA,MAAM,eAAe,MAAM,GAAG;QAEhC,UAAU;QACV,aAAa,KAAK,GAAG,CACnB,GACA,MAAM,eAAe,MAAM,GAAG;IAElC;IAEA,yBAAyB,GACzB,MAAM,QAAQ,gJACZ,YACA,uJAAW,CAAC,QAAQ;IAGtB,6CAA6C,GAC7C,OAAO;QACL;QACA;QACA,OAAO,eAAe,GAAG,CAAC,CAAA,IAAK,EAAE,MAAM;QACvC,gBAAgB;YACd;YACA;YACA;YACA;QACF;IACF;AACF"}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/storage/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nexport const prisma = new PrismaClient();\r\n\r\nexport async function saveVerification({\r\n  userId,\r\n  content,\r\n  result,\r\n}: {\r\n  userId?: string;\r\n  content: string;\r\n  result: any;\r\n}) {\r\n  return prisma.verification.create({\r\n    data: {\r\n      userId,\r\n      content,\r\n      score: result.score,\r\n      result,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function getVerifications(userId?: string) {\r\n  return prisma.verification.findMany({\r\n    where: userId ? { userId } : undefined,\r\n    orderBy: { createdAt: \"desc\" },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,SAAS;AAEf,eAAe,iBAAiB,EACrC,MAAM,EACN,OAAO,EACP,MAAM,EAKP;IACC,OAAO,OAAO,YAAY,CAAC,MAAM,CAAC;QAChC,MAAM;YACJ;YACA;YACA,OAAO,OAAO,KAAK;YACnB;QACF;IACF;AACF;AAEO,eAAe,iBAAiB,MAAe;IACpD,OAAO,OAAO,YAAY,CAAC,QAAQ,CAAC;QAClC,OAAO,SAAS;YAAE;QAAO,IAAI;QAC7B,SAAS;YAAE,WAAW;QAAO;IAC/B;AACF"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/logging/logger.ts"],"sourcesContent":["export type LogLevel = \"info\" | \"warn\" | \"error\";\r\n\r\nexport function log(level: LogLevel, message: string, meta?: unknown) {\r\n  const entry = {\r\n    level,\r\n    message,\r\n    meta,\r\n    timestamp: new Date().toISOString(),\r\n  };\r\n\r\n  console[level](JSON.stringify(entry));\r\n}\r\n"],"names":[],"mappings":";;;AAEO,SAAS,IAAI,KAAe,EAAE,OAAe,EAAE,IAAc;IAClE,MAAM,QAAQ;QACZ;QACA;QACA;QACA,WAAW,IAAI,OAAO,WAAW;IACnC;IAEA,OAAO,CAAC,MAAM,CAAC,KAAK,SAAS,CAAC;AAChC"}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/api/verify/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { verifyPipeline } from \"@/core/pipelines/verify-pipeline\";\r\nimport { saveVerification } from \"@/lib/storage/db\";\r\nimport { log } from \"@/lib/logging/logger\";\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const body = await req.json();\r\n\r\n    const {\r\n      content,\r\n      profile,\r\n      sources = [],\r\n      userId,\r\n    } = body;\r\n\r\n    if (!content || !profile) {\r\n      return NextResponse.json(\r\n        { error: \"Missing content or profile\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const result = verifyPipeline(\r\n      content,\r\n      profile,\r\n      sources\r\n    );\r\n\r\n    // TEMP: persistence disabled during local testing\r\n// await saveVerification({\r\n//   userId,\r\n//   content,\r\n//   result,\r\n// });\r\n\r\n\r\n    log(\"info\", \"Verification completed\", {\r\n      userId,\r\n      score: result.score,\r\n    });\r\n\r\n    return NextResponse.json({\r\n      ok: true,\r\n      result,\r\n    });\r\n  } catch (err: any) {\r\n    log(\"error\", \"Verification failed\", err);\r\n    return NextResponse.json(\r\n      { error: \"Internal verification error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAKO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,MAAM,EACJ,OAAO,EACP,OAAO,EACP,UAAU,EAAE,EACZ,MAAM,EACP,GAAG;QAEJ,IAAI,CAAC,WAAW,CAAC,SAAS;YACxB,OAAO,wLAAa,IAAI,CACtB;gBAAE,OAAO;YAA6B,GACtC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS,0JACb,SACA,SACA;QAGF,kDAAkD;QACtD,2BAA2B;QAC3B,YAAY;QACZ,aAAa;QACb,YAAY;QACZ,MAAM;QAGF,gIAAI,QAAQ,0BAA0B;YACpC;YACA,OAAO,OAAO,KAAK;QACrB;QAEA,OAAO,wLAAa,IAAI,CAAC;YACvB,IAAI;YACJ;QACF;IACF,EAAE,OAAO,KAAU;QACjB,gIAAI,SAAS,uBAAuB;QACpC,OAAO,wLAAa,IAAI,CACtB;YAAE,OAAO;QAA8B,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/.next-internal/server/app/api/verify/route/actions.js"],"sourcesContent":["__turbopack_export_value__({\n});"],"names":[],"mappings":"AAAA,2BAA2B,CAC3B"}},
    {"offset": {"line": 443, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}